setopt promptsubst

export PROMPT='%{%F{red}$(getpwd)%}%f%F{yellow}$(getgitbranch)%f > '

getpwd() {
    echo -n "$PWD"
}

getgitbranch() {
    b=$(git rev-parse --abbrev-ref HEAD 2> /dev/null)
    if [ -z "$b" ]; then
	echo ""
    else
	echo " [$b]"
    fi
}
